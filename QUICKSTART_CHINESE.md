# 汉字功能快速入门

## 5分钟快速上手

### 1. 打开编辑器
在浏览器中打开 `index.html`

### 2. 基本设置
- **ASCII字库**: 选择 "8x16 字体"
- **汉字库**: 选择 "HZK16 (16x16)"
- **X**: 0
- **Y**: 0

### 3. 测试示例

#### 示例1：纯汉字
```
输入文本: 你好世界
点击: 放置文本
```
效果：显示中文"你好世界"，每个汉字16x16像素

#### 示例2：中英文混合
```
输入文本: CPU温度:45℃
点击: 放置文本
```
效果：
- "CPU" 和 ":45" 使用8x16 ASCII字体
- "温度" 和 "℃" 使用16x16汉字库

#### 示例3：使用汉字库的ASCII
```
ASCII字库: 选择 "使用汉字库"
汉字库: 选择 "HZK16 (16x16)"
输入文本: ABC123
点击: 放置文本
```
效果：ASCII字符也以16x16全角形式显示

#### 示例4：反显模式
```
输入文本: 反显测试
勾选: 反显
点击: 放置文本
```
效果：文字以反色显示（黑白颠倒）

### 4. 常用组合

| 用途 | ASCII字库 | 汉字库 | 说明 |
|------|----------|--------|------|
| 小号混合文本 | 8x16 字体 | HZK16 | 高度一致 |
| 大号混合文本 | 16x32 字体 | HZK32 | 高度一致 |
| 纯汉字标题 | 使用汉字库 | HZK24 | 统一风格 |
| 数字+汉字 | 数字 32x48 | HZK48 | 大号显示 |

## 测试功能

### 打开测试页面
在浏览器中打开 `test_chinese.html`，运行三个测试：

1. **GB2312编码器测试** - 验证字符编码
2. **汉字字库加载测试** - 验证字库加载
3. **字符提取测试** - 验证字模提取

全部测试通过后，说明功能正常。

## 验证字库文件

确保以下文件存在：
```
fonts/hzk2/HZK12
fonts/hzk2/HZK16
fonts/hzk2/HZK24
fonts/hzk2/HZK32
fonts/hzk2/HZK40
fonts/hzk2/HZK48
fonts/gb2312_unicode_map.json
```

## 故障排除

### 问题：汉字不显示
1. 打开浏览器开发者工具 (F12)
2. 查看Console标签页的错误信息
3. 检查Network标签页，确认字库文件正确加载

### 问题：编码错误
- 检查 `fonts/gb2312_unicode_map.json` 是否存在
- 文件大小应约为 255KB

### 问题：字库加载失败
- 确保使用HTTP服务器访问页面（不是 file:// 协议）
- 检查字库文件权限
- 查看浏览器控制台的网络错误

## 命令行测试

使用Python脚本测试字库：

```bash
# 测试HZK16字库
python3 hzk_dump.py HZK16 "你好"

# 测试HZK24字库
python3 hzk_dump.py HZK24 "中国"
```

这将显示字符的点阵图案和编码信息。

## 下一步

- 阅读完整文档：`CHINESE_SUPPORT.md`
- 了解技术细节：`fonts/hzk2/README.md`
- 查看参考实现：`hzk_dump.py`

## 示例效果

### 文本布局示例
```
屏幕尺寸: 128x64
位置: (0, 0)
文本: "温度:25℃"

布局:
[温][度][:][2][5][℃]
16x16 8x16   16x16

总宽度: 16+16+8+8+8+16 = 72像素
高度: 16像素
```

### 多行文本
```
第1行 (0, 0):   "系统状态"
第2行 (0, 20):  "CPU: 45°C"
第3行 (0, 40):  "RAM: 80%"
```

## 提示

1. **字体搭配**：选择高度相近的ASCII字库和汉字库
2. **位置计算**：汉字宽度等于高度（方形），ASCII字符宽度小于高度
3. **性能**：首次加载字库需要时间，之后会缓存
4. **兼容性**：只支持GB2312字符集中的字符
5. **调试**：打开浏览器控制台查看详细日志

---

更新时间：2025-10-31

